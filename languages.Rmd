---
title: Programming languages
---
```{r config, include=FALSE}
library(knitr)
library(tidyverse)
opts_chunk$set(echo=FALSE, dpi=200)
```

# Top languages

```{r top-languages}
source("R/sqlite.R")
languages <- collect_table("languages")

frequencies <- languages %>%
  count(response_str) %>%
  arrange(desc(n)) %>%
  mutate(rank = 1:n())

# Set factor levels for ggplot
levels <- rev(frequencies$response_str)
frequencies$language_ordered <- factor(frequencies$response_str, levels = levels)

ggplot(filter(frequencies, rank <= 20)) +
  aes(language_ordered, n) +
  geom_bar(stat = "identity") +
  xlab("") +
  coord_flip()
```
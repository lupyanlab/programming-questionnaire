---
title: Programming languages
---
```{r config, include=FALSE}
library(knitr)
opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE,
               fig.width=3, fig.height=3,
               cache=TRUE)
read_chunk("languages.R")
```
```{r setup}
```

## Language frequency

```{r frequency}
top20_language_summary %<>% order_language_by("frequency_rank", reverse = TRUE)
ggplot(top20_language_summary) +
  aes(language_ordered, frequency) +
  geom_bar(stat = "identity") +
  coord_flip() +
  labs(x = "", y = "", title = "Frequency")
```

## Experience

```{r languages-per-person}
```

```{r experience}
top20_language_summary %<>% order_language_by("years_used_rank", reverse = TRUE)
ggplot(top20_language_summary) +
  aes(language_ordered, years_used) +
  geom_bar(stat = "identity") +
  coord_flip() +
  labs(x = "", y = "average years used", title = "Experience")
```

## Proficiency

```{r proficiency}
top20_language_summary %<>% order_language_by("proficiency_rank", reverse = TRUE)
ggplot(top20_language_summary) +
  aes(language_ordered, proficiency) +
  geom_point(stat = "identity") +
  xlab("") +
  coord_flip(ylim = c(1, 5)) +
  labs(x = "", title = "Proficiency")
```

## Rank correlations

```{r correlations}
top20_language_summary %>%
  rank_by("proficiency") %>%
  rank_by("years_used") %>%
  filter(language_name != "other") %>%
  select(-c(frequency, proficiency, years_used, language_ordered)) %>%
  gather(rank_var, rank, -language_name) %>%
ggplot() +
  aes(rank_var, rank, group = language_name) +
  geom_line() +
  scale_y_reverse(breaks = 1:20, labels = top20_languages) +
  theme(
    panel.grid.minor.y = element_blank()
  ) +
  labs(x = "", y = "", title = "Rank correlations")
```

```{r experience-proficiency-correlation, fig.width=8, fig.height=6}
library(ggrepel)
set.seed(543)
ggplot(filter(top20_language_summary, language_name != "other")) +
  aes(years_used, proficiency) +
  geom_point(data = filter(language_summary, !(language_name %in% top20_languages))) +
  geom_label_repel(aes(label = language_name)) +
  ggtitle("Experience-proficiency correlation")
```

## Intuitiveness

```{r intuitiveness, fig.width=6}
top20_intuitive <- filter(top20_ratings_summary, question_name == "intuitiveness")

top20_intuitive_for_all_levels <- top20_intuitive %>%
  filter(question_tag == "forAll") %>%
  rank_by("agreement_num") %>%
  order_language_by("agreement_num_rank", levels_only = TRUE)
top20_intuitive %<>% order_language_by(use_levels = top20_intuitive_for_all_levels, reverse = TRUE)

ggplot(top20_intuitive) +
  aes(language_ordered, agreement_num) +
  geom_point() +
  coord_flip(ylim = 1:5) +
  scale_y_continuous(breaks = 1:5) +
  facet_wrap("question_tag") +
  labs(x = "", y = "", title = "Intuitiveness")
```

## Reuse

```{r reuse, fig.width=6}
top20_reuse_adaptive_levels <- top20_reuse %>%
  filter(question_tag == "adapt") %>%
  rank_by("agreement_num") %>%
  order_language_by("agreement_num_rank", levels_only = TRUE)
top20_reuse %<>% order_language_by(use_levels = top20_reuse_adaptive_levels, reverse = TRUE)

ggplot(top20_reuse) +
  aes(language_ordered, agreement_num) +
  geom_point() +
  coord_flip(ylim = 1:5) +
  scale_y_continuous(breaks = 1:5) +
  facet_wrap("reuse_label") +
  labs(x = "", y = "", title = "Reuse")
```

## Paradigms

```{r top-paradigms, results="asis"}
kable(top_paradigms_tbl)
```

```{r paradigms-of-top-languages, results="asis"}
kable(top20_language_paradigms)
```
